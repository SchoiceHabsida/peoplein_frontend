(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358],{1294:function(e,n,t){Promise.resolve().then(t.bind(t,3740))},3740:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var r=t(9268),i=t(7245),o=t(9148),l=t(7809),a=t(1051),u=t(6006),c=t(183);function s(){var e,n,t,s;let[d,f]=(0,u.useState)(0),{keyword:v}=(0,u.useContext)(i.ci),{data:p,refetch:h,loading:m}=(0,a.a)(c.P,{variables:{keyword:v,pageNumber:d}});return(0,u.useEffect)(()=>{h({keyword:v,pageNumber:d})},[v,d]),(0,r.jsxs)("div",{className:"flex flex-col ",children:[(0,r.jsx)("div",{className:"mt-5 flex gap-5 flex-wrap",children:null==p?void 0:null===(e=p.searchApplicantsByKeyword)||void 0===e?void 0:null===(n=e.content)||void 0===n?void 0:n.map(e=>(0,r.jsx)(o.Z,{refetch:()=>console.log("refetch"),...e},e.id))}),(0,r.jsx)("div",{className:"flex justify-center mt-4",children:(0,r.jsx)(l.$,{currentPage:(null==p?void 0:null===(t=p.searchApplicantsByKeyword)||void 0===t?void 0:t.currentPage)||0,totalElements:(null==p?void 0:null===(s=p.searchApplicantsByKeyword)||void 0===s?void 0:s.totalElements)||0,onPage:e=>{f(e.pageNumber)}})})]})}},183:function(e,n,t){"use strict";t.d(n,{P:function(){return l}});var r=t(2805),i=t(7056);function o(){let e=(0,r._)(["\n    query searchApplicants ($pageNumber: Int, $pageCount: Int, $keyword: String) {\n        searchApplicantsByKeyword (pageNumber: $pageNumber, pageCount: $pageCount, keyword: $keyword) {\n            content{\n                id\n                firstName\n                lastName\n                country\n                gender\n                visa\n                dateOfBirth\n                yearsOfExperience,\n                profilePicture {\n                    id\n                    path\n                    type\n                }\n                specialization\n            }\n        currentPage\n        totalElements\n        totalPages\n        }\n    }\n"]);return o=function(){return e},e}let l=(0,i.Ps)(o())},7099:function(e,n,t){"use strict";t.d(n,{H:function(){return x},a:function(){return g}});var r=t(2805),i=t(9268),o=t(6006),l=t(7056),a=t(1051),u=t(7251),c=t(5596),s=t(6008);function d(){let e=(0,r._)(["\n  query me {\n    getCurrentUser{\n      id\n      username\n      company {\n        id\n        name\n      }\n      roles{\n        id\n        name\n      }\n    }\n  }\n"]);return d=function(){return e},e}function f(){let e=(0,r._)(["\n  mutation ($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return f=function(){return e},e}let v=(0,l.Ps)(d()),p=(0,l.Ps)(f()),h=(0,o.createContext)({}),m=()=>{let{client:e,loading:n,error:t,data:r,refetch:i}=(0,a.a)(v,{fetchPolicy:"no-cache"}),[l,{loading:d}]=(0,u.D)(p),f=(0,s.useRouter)(),[h,m]=(0,o.useState)(null),[g,x]=(0,o.useState)(null),C=(0,o.useCallback)(e=>{let{username:n,password:t,is_admin:r}=e;l({variables:{username:n,password:t}}).then(e=>{let{data:n}=e;x(null);let t=localStorage;i(),t.setItem("token",n.login.token),f.push("".concat(r?"".concat(c.j2,"/").concat(c.rM,"/").concat(c.dk):c.XX))}).catch(e=>{x(e)})},[l,i]);(0,o.useEffect)(()=>{m((null==r?void 0:r.getCurrentUser)?{...null==r?void 0:r.getCurrentUser}:null)},[r]);let j=(0,o.useCallback)(e=>{localStorage.removeItem("token"),f.push(e?"".concat(c.j2).concat(c.lW):c.lW),m(null),i()},[e,f]);return{loading:n||d,error:t,loginError:g,user:h,login:C,logout:j}},g=()=>(0,o.useContext)(h);function x(e){let{children:n}=e,t=m();return(0,i.jsx)(h.Provider,{value:t,children:void 0!==t.user||t.error?n:(0,i.jsx)("div",{children:"Loading..."})})}},4676:function(e,n,t){"use strict";t.d(n,{Fw:function(){return r},eC:function(){return function e(n){return n?"object"==typeof n?Array.isArray(n)?n.map(e):Object.fromEntries(Object.entries(n).map(n=>{let[t,r]=n;return[t,e(r)]})):""!==n?n:void 0:void 0}},oV:function(){return function e(n){if("object"!=typeof n||null===n)return n;if(Array.isArray(n))return n.map(n=>e(n));let t={};for(let r in n)"__typename"!==r&&(t[r]=e(n[r]));return t}},p6:function(){return i}});let r=e=>{if(!e)return"";{let n=new Date(e),t=new Date,r=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&r--,r}};function i(e){var n=new Date(e),t=""+(n.getMonth()+1),r=""+n.getDate(),i=n.getFullYear();return t.length<2&&(t="0"+t),r.length<2&&(r="0"+r),[i,t,r].join("-")}},793:function(e,n,t){"use strict";var r,i,o,l,a,u,c,s;t.d(n,{Fz:function(){return r},GV:function(){return o},K$:function(){return l},Tb:function(){return d},ym:function(){return i}}),(a=r||(r={})).search="getAllApplicantsPaged",a.favorites="getAllFavouriteApplicants",a.interviews="getAllScheduledForInterview",a.filter="searchApplicantsByCriteria",(u=i||(i={})).search="search",u.favorites="favorites",u.interviews="interviews",(c=o||(o={})).FRONTEND="FRONTEND",c.BACKEND="BACKEND",(s=l||(l={})).ADMIN="ROLE_ADMIN",s.COMPANY="ROLE_COMPANY";let d=419430400},5596:function(e,n,t){"use strict";t.d(n,{t3:function(){return m},OF:function(){return g.OF},Tb:function(){return x.Tb},zb:function(){return p},j2:function(){return i},rR:function(){return l},Yi:function(){return h},eH:function(){return v},rM:function(){return d},yv:function(){return u},XX:function(){return r},St:function(){return c},lW:function(){return o},dk:function(){return f},hm:function(){return s},AI:function(){return a},ig:function(){return g.ig}});let r="",i="/admin",o="/login",l="/applicants",a="/search",u="/favorites",c="/interviews",s="/results",d="/dashboard",f="people",v="companies",p="add",h="change-password",m="https://peoplein-api.habsida.com/graphql";var g=t(791),x=t(793)},791:function(e,n,t){"use strict";var r,i;t.d(n,{IN:function(){return r},OF:function(){return l},ig:function(){return o}}),(i=r||(r={})).IN_PROJECT="IN_PROJECT",i.SEARCHING="SEARCHING",i.EMPLOYED="EMPLOYED";let o=[{label:"",value:"STATUS",children:[{label:"Searching",value:r.SEARCHING},{label:"Employed",value:r.EMPLOYED},{label:"In project",value:r.IN_PROJECT}]}],l=[{label:"",value:"CV",children:[{label:"Open",value:"open"},{label:"Download",value:"download"},{label:"Delete",value:"delete"}]}]},4019:function(e,n,t){"use strict";t.d(n,{s:function(){return u}});var r=t(2805),i=t(7056),o=t(7251);function l(){let e=(0,r._)(["\n    mutation ($id: ID!) {\n      "," (id: $id)\n    }\n  "]);return l=function(){return e},e}let a=e=>(0,i.Ps)(l(),e),u=(e,n,t)=>{let[r,{loading:i}]=(0,o.D)(a(e?"deleteApplicantFromFavourites":"addApplicantToFavourites")),l=async e=>{if(!i){e.stopPropagation(),e.preventDefault();try{let e=await r({variables:{id:t}});e&&n()}catch(e){console.log(e)}}};return{updateFavorite:l,addFavorite:r,mutationLoading:i}}},3649:function(e,n,t){"use strict";t.d(n,{z:function(){return u}});var r=t(2805),i=t(7056),o=t(7251);function l(){let e=(0,r._)(["\n    mutation ($id: ID!) {\n      "," (id: $id)\n    }\n  "]);return l=function(){return e},e}let a=e=>(0,i.Ps)(l(),e),u=(e,n,t)=>{let[r,{loading:i}]=(0,o.D)(a(e?"deleteApplicantFromScheduledForInterview":"addApplicantToInterviews")),l=async e=>{if(!i){e.stopPropagation(),e.preventDefault();try{let e=await r({variables:{id:t}});e&&n()}catch(e){console.log(e)}}};return{updateInterview:l,interviewLoading:i}}},3092:function(e,n,t){"use strict";t.r(n),t.d(n,{AdminFiltersContext:function(){return o},AdminFiltersProvider:function(){return l}});var r=t(9268),i=t(6006);let o=i.createContext(null),l=e=>{let{children:n}=e,[t,l]=(0,i.useState)("");return(0,r.jsx)(o.Provider,{value:{keyword:t,setKeyword:l},children:n})}},9874:function(e,n,t){"use strict";t.r(n),t.d(n,{FilterContext:function(){return o},FilterProvider:function(){return l}});var r=t(9268),i=t(6006);let o=i.createContext(null),l=e=>{let{children:n}=e,[t,l]=(0,i.useState)({});return(0,r.jsx)(o.Provider,{value:{input:t,setInput:l},children:n})}},8192:function(e,n,t){"use strict";t.r(n),t.d(n,{RootProvider:function(){return h}});var r=t(9268),i=t(7099),o=t(5647),l=t(9955),a=t(2502),u=t(4387),c=t(5596),s=t(5933),d=t.n(s);let f=d()({uri:c.t3}),v=(0,a.v)((e,n)=>{let{headers:t}=n,r=localStorage.getItem("token")||sessionStorage.getItem("token");return{headers:{...t,authorization:r?"Bearer ".concat(r):""}}}),p=new o.f({link:v.concat(f),cache:new l.h});function h(e){let{children:n}=e;return(0,r.jsx)(u.e,{client:p,children:(0,r.jsx)(i.H,{children:n})})}},9214:function(e,n,t){"use strict";t.r(n),t.d(n,{SearchContext:function(){return o},SearchProvider:function(){return l}});var r=t(9268),i=t(6006);let o=i.createContext(null),l=e=>{let{children:n}=e,[t,l]=(0,i.useState)("");return(0,r.jsx)(o.Provider,{value:{keyword:t,setKeyword:l},children:n})}},7245:function(e,n,t){"use strict";t.d(n,{$z:function(){return o.AdminFiltersContext},MF:function(){return o.AdminFiltersProvider},X$:function(){return i.SearchProvider},ci:function(){return i.SearchContext},hz:function(){return r.FilterProvider}});var r=t(9874),i=t(9214),o=t(3092);t(8192)},9148:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(9268),i=t(6008),o=t(4676);t(6142);let l=()=>(0,r.jsx)("svg",{width:"24",height:"30",viewBox:"0 0 24 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0C3.50544 0 2.55161 0.395088 1.84835 1.09835C1.14509 1.80161 0.75 2.75544 0.75 3.75V29.0625C0.749881 29.2253 0.792158 29.3853 0.872671 29.5268C0.953184 29.6683 1.06916 29.7864 1.20917 29.8695C1.34919 29.9525 1.50842 29.9977 1.6712 30.0005C1.83397 30.0034 1.99468 29.9638 2.1375 29.8856L12 24.5044L21.8625 29.8856C22.0053 29.9638 22.166 30.0034 22.3288 30.0005C22.4916 29.9977 22.6508 29.9525 22.7908 29.8695C22.9308 29.7864 23.0468 29.6683 23.1273 29.5268C23.2078 29.3853 23.2501 29.2253 23.25 29.0625V3.75C23.25 2.75544 22.8549 1.80161 22.1516 1.09835C21.4484 0.395088 20.4946 0 19.5 0L4.5 0ZM12 8.26875C14.6006 5.59687 21.1012 10.275 12 16.2881C2.89875 10.275 9.39937 5.59875 12 8.2725V8.26875Z",fill:"#01B3A8"})});var a=t(4019),u=t(3649);let c=e=>{let{refetch:n,id:t,firstName:c,country:s,profilePicture:d,visa:f,is_favorite:v,is_scheduled_for_interview:p,dateOfBirth:h,specialization:m}=e,g=(0,i.useRouter)(),x=(0,i.usePathname)(),{updateFavorite:C}=(0,a.s)(!!v,n,t),{updateInterview:j}=(0,u.z)(!!p,n,t);return(0,r.jsxs)("div",{className:"card rounded cursor-pointer relative",onClick:()=>g.push(x+"/"+t),children:[(0,r.jsxs)("div",{className:"flex info-container",children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:d?null==d?void 0:d.path:"/Avatar-Image.png",width:205,style:{height:"205px"},className:"rounded",alt:"person"})}),(0,r.jsxs)("div",{className:"mt-9",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-base info-title",children:"Nationality:"}),(0,r.jsx)("div",{children:s})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-base info-title",children:"Visa:"}),(0,r.jsx)("div",{children:f})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-base info-title",children:"Age:"}),(0,r.jsx)("div",{children:(0,o.Fw)(h)})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"person-name font-extrabold text-xl ml-6 uppercase",children:c}),(0,r.jsx)("div",{className:"text-base ml-6 mb-5",children:null==m?void 0:m.map((e,n)=>(0,r.jsxs)("span",{className:"capitalize",children:[e.toLocaleLowerCase(),"\xa0"]},n))})]}),p?(0,r.jsx)("div",{className:"p-4 bordered-top font-semibold text-purple-primary interview-status",children:"Status"}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"p-4 bordered-top",children:"Experience"}),(0,r.jsx)("div",{className:"p-4 bordered-top",children:"Programming languages"})]}),(0,r.jsx)("div",{className:"p-4 bordered-top font-bold cursor-pointer ".concat(v?"":"colored"),onClick:C,children:v?"- Remove from Favorites":"+ Add to Favorites"}),(0,r.jsx)("div",{className:"p-4 bordered-top font-bold cursor-pointer ".concat(p?"":"colored"),onClick:j,children:p?"- Remove from Interview":"+ Invite for Interview"}),v&&(0,r.jsx)("div",{className:"absolute -top-1 right-3",children:(0,r.jsx)(l,{})})]})}},7809:function(e,n,t){"use strict";t.d(n,{$:function(){return l},T:function(){return o}});var r=t(9268);t(6006);var i=t(6949);t(525);let o=6,l=e=>{let{currentPage:n,totalElements:t,pageCount:l,onPage:a}=e,u=e=>{a({pageNumber:e-1,pageCount:l})};return(0,r.jsx)("div",{className:"-ml-36",children:(0,r.jsx)(i.Z,{defaultCurrent:n+1,total:t||1,pageSize:l||o,style:{margin:"100px"},onChange:u,nextIcon:"Next",prevIcon:"Prev"})})}},6142:function(){},525:function(){}},function(e){e.O(0,[207,257,949,667,139,744],function(){return e(e.s=1294)}),_N_E=e.O()}]);