(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{971:function(e,n,t){Promise.resolve().then(t.bind(t,2543))},2543:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var r=t(9268),i=t(619),a=t(793),l=t(9874),o=t(7809),u=t(6006),s=t(9148);function c(e){var n,t,c,d,v;let{params:p}=e,[f,m]=(0,u.useState)(0),[h,g]=(0,u.useState)(a.Fz.search),{data:x,applicantQueryType:b,setApplicantQueryType:C,refetch:j,loading:N}=(0,i.U)(),{input:y}=(0,u.useContext)(l.FilterContext),w=()=>{for(let e of Object.keys(y))y[e]||delete y[e];return y};return(0,u.useEffect)(()=>{var e;(null===(e=Object.values(y))||void 0===e?void 0:e.some(e=>e))?(C({type:a.Fz.filter,variables:{pageNumber:f,pageCount:o.T,input:w()}}),g(a.Fz.filter)):(C({type:a.Fz[p.applicantPage],variables:{pageNumber:f,pageCount:o.T}}),g(a.Fz[p.applicantPage]))},[y,p.applicantPage,f]),(0,r.jsx)("div",{className:"flex flex-col",children:N?(0,r.jsx)("span",{className:"mt-4 mx-auto loading loading-spinner text-primary"}):(0,r.jsx)(u.Fragment,{children:(null==x?void 0:null===(n=x["".concat(h)])||void 0===n?void 0:n.content.length)?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mt-5 flex gap-5 flex-wrap",children:null==x?void 0:null===(t=x["".concat(h)])||void 0===t?void 0:null===(c=t.content)||void 0===c?void 0:c.map(e=>(0,r.jsx)(s.Z,{is_favorite:p.applicantPage===a.ym.favorites,is_scheduled_for_interview:p.applicantPage===a.ym.interviews,...e,refetch:()=>j({...b.variables})},e.id))}),(0,r.jsx)("div",{className:"flex justify-center mt-4",children:(0,r.jsx)(o.$,{currentPage:(null==x?void 0:null===(d=x["".concat(h)])||void 0===d?void 0:d.currentPage)||0,totalElements:(null==x?void 0:null===(v=x["".concat(h)])||void 0===v?void 0:v.totalElements)||0,onPage:e=>{m(e.pageNumber)}})})]}):(0,r.jsx)("div",{className:"mx-auto mt-4 uppercase text-slate-400 text-sm",children:"No data found"})})})}},619:function(e,n,t){"use strict";t.d(n,{U:function(){return m},g:function(){return h}});var r=t(2805),i=t(9268),a=t(6006),l=t(7056),o=t(1051),u=t(7809),s=t(793),c=t(7099);function d(){let e=(0,r._)(["\n    query GetApplicants ($pageNumber: Int!, $pageCount: Int!, ",") {\n        ","(pageNumber: $pageNumber, pageCount: $pageCount, ",") {\n            content{\n                id\n                firstName\n                lastName\n                country\n                gender\n                visa\n                dateOfBirth\n                yearsOfExperience,\n                profilePicture {\n                    id\n                    path\n                    type\n                }\n                specialization\n            }\n        currentPage\n        totalElements\n        totalPages\n      }\n    }\n  "]);return d=function(){return e},e}let v=(e,n)=>(0,l.Ps)(d(),n?"$input: CriteriaInput!":"$companyId: ID!",e,n?"input: $input":"companyId: $companyId"),p=(0,a.createContext)({}),f=()=>{let{user:e}=(0,c.a)(),[n,t]=(0,a.useState)({type:s.Fz.search,variables:{pageNumber:0,pageCount:u.T}}),{client:r,loading:i,error:l,data:d,refetch:p}=(0,o.a)(v(n.type,n.variables.input),{variables:{...n.variables}}),f=()=>{var t;return n.type===s.Fz.search?"":null==e?void 0:null===(t=e.company)||void 0===t?void 0:t.id};return(0,a.useEffect)(()=>{p({...n.variables,companyId:f()})},[n]),{loading:i,error:l,data:d,applicantQueryType:n,setApplicantQueryType:t,refetch:p}},m=()=>(0,a.useContext)(p);function h(e){let{children:n}=e,t=f();return(0,i.jsx)(p.Provider,{value:t,children:n})}},7099:function(e,n,t){"use strict";t.d(n,{H:function(){return x},a:function(){return g}});var r=t(2805),i=t(9268),a=t(6006),l=t(7056),o=t(1051),u=t(7251),s=t(5596),c=t(6008);function d(){let e=(0,r._)(["\n  query me {\n    getCurrentUser{\n      id\n      username\n      company {\n        id\n        name\n      }\n      roles{\n        id\n        name\n      }\n    }\n  }\n"]);return d=function(){return e},e}function v(){let e=(0,r._)(["\n  mutation ($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return v=function(){return e},e}let p=(0,l.Ps)(d()),f=(0,l.Ps)(v()),m=(0,a.createContext)({}),h=()=>{let{client:e,loading:n,error:t,data:r,refetch:i}=(0,o.a)(p,{fetchPolicy:"no-cache"}),[l,{loading:d}]=(0,u.D)(f),v=(0,c.useRouter)(),[m,h]=(0,a.useState)(null),[g,x]=(0,a.useState)(null),b=(0,a.useCallback)(e=>{let{username:n,password:t,is_admin:r}=e;l({variables:{username:n,password:t}}).then(e=>{let{data:n}=e;x(null);let t=localStorage;i(),t.setItem("token",n.login.token),v.push("".concat(r?"".concat(s.j2,"/").concat(s.rM,"/").concat(s.dk):s.XX))}).catch(e=>{x(e)})},[l,i]);(0,a.useEffect)(()=>{h((null==r?void 0:r.getCurrentUser)?{...null==r?void 0:r.getCurrentUser}:null)},[r]);let C=(0,a.useCallback)(e=>{localStorage.removeItem("token"),v.push(e?"".concat(s.j2).concat(s.lW):s.lW),h(null),i()},[e,v]);return{loading:n||d,error:t,loginError:g,user:m,login:b,logout:C}},g=()=>(0,a.useContext)(m);function x(e){let{children:n}=e,t=h();return(0,i.jsx)(m.Provider,{value:t,children:void 0!==t.user||t.error?n:(0,i.jsx)("div",{children:"Loading..."})})}},4676:function(e,n,t){"use strict";t.d(n,{Fw:function(){return r},eC:function(){return function e(n){return n?"object"==typeof n?Array.isArray(n)?n.map(e):Object.fromEntries(Object.entries(n).map(n=>{let[t,r]=n;return[t,e(r)]})):""!==n?n:void 0:void 0}},oV:function(){return function e(n){if("object"!=typeof n||null===n)return n;if(Array.isArray(n))return n.map(n=>e(n));let t={};for(let r in n)"__typename"!==r&&(t[r]=e(n[r]));return t}},p6:function(){return i}});let r=e=>{if(!e)return"";{let n=new Date(e),t=new Date,r=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&r--,r}};function i(e){var n=new Date(e),t=""+(n.getMonth()+1),r=""+n.getDate(),i=n.getFullYear();return t.length<2&&(t="0"+t),r.length<2&&(r="0"+r),[i,t,r].join("-")}},793:function(e,n,t){"use strict";var r,i,a,l,o,u,s,c;t.d(n,{Fz:function(){return r},GV:function(){return a},K$:function(){return l},Tb:function(){return d},ym:function(){return i}}),(o=r||(r={})).search="getAllApplicantsPaged",o.favorites="getAllFavouriteApplicants",o.interviews="getAllScheduledForInterview",o.filter="searchApplicantsByCriteria",(u=i||(i={})).search="search",u.favorites="favorites",u.interviews="interviews",(s=a||(a={})).FRONTEND="FRONTEND",s.BACKEND="BACKEND",(c=l||(l={})).ADMIN="ROLE_ADMIN",c.COMPANY="ROLE_COMPANY";let d=419430400},5596:function(e,n,t){"use strict";t.d(n,{t3:function(){return h},OF:function(){return g.OF},Tb:function(){return x.Tb},zb:function(){return f},j2:function(){return i},rR:function(){return l},Yi:function(){return m},eH:function(){return p},rM:function(){return d},yv:function(){return u},XX:function(){return r},St:function(){return s},lW:function(){return a},dk:function(){return v},hm:function(){return c},AI:function(){return o},ig:function(){return g.ig}});let r="",i="/admin",a="/login",l="/applicants",o="/search",u="/favorites",s="/interviews",c="/results",d="/dashboard",v="people",p="companies",f="add",m="change-password",h="https://peoplein-api.habsida.com/graphql";var g=t(791),x=t(793)},791:function(e,n,t){"use strict";var r,i;t.d(n,{IN:function(){return r},OF:function(){return l},ig:function(){return a}}),(i=r||(r={})).IN_PROJECT="IN_PROJECT",i.SEARCHING="SEARCHING",i.EMPLOYED="EMPLOYED";let a=[{label:"",value:"STATUS",children:[{label:"Searching",value:r.SEARCHING},{label:"Employed",value:r.EMPLOYED},{label:"In project",value:r.IN_PROJECT}]}],l=[{label:"",value:"CV",children:[{label:"Open",value:"open"},{label:"Download",value:"download"},{label:"Delete",value:"delete"}]}]},4019:function(e,n,t){"use strict";t.d(n,{s:function(){return u}});var r=t(2805),i=t(7056),a=t(7251);function l(){let e=(0,r._)(["\n    mutation ($id: ID!) {\n      "," (id: $id)\n    }\n  "]);return l=function(){return e},e}let o=e=>(0,i.Ps)(l(),e),u=(e,n,t)=>{let[r,{loading:i}]=(0,a.D)(o(e?"deleteApplicantFromFavourites":"addApplicantToFavourites")),l=async e=>{if(!i){e.stopPropagation(),e.preventDefault();try{let e=await r({variables:{id:t}});e&&n()}catch(e){console.log(e)}}};return{updateFavorite:l,addFavorite:r,mutationLoading:i}}},3649:function(e,n,t){"use strict";t.d(n,{z:function(){return u}});var r=t(2805),i=t(7056),a=t(7251);function l(){let e=(0,r._)(["\n    mutation ($id: ID!) {\n      "," (id: $id)\n    }\n  "]);return l=function(){return e},e}let o=e=>(0,i.Ps)(l(),e),u=(e,n,t)=>{let[r,{loading:i}]=(0,a.D)(o(e?"deleteApplicantFromScheduledForInterview":"addApplicantToInterviews")),l=async e=>{if(!i){e.stopPropagation(),e.preventDefault();try{let e=await r({variables:{id:t}});e&&n()}catch(e){console.log(e)}}};return{updateInterview:l,interviewLoading:i}}},9874:function(e,n,t){"use strict";t.r(n),t.d(n,{FilterContext:function(){return a},FilterProvider:function(){return l}});var r=t(9268),i=t(6006);let a=i.createContext(null),l=e=>{let{children:n}=e,[t,l]=(0,i.useState)({});return(0,r.jsx)(a.Provider,{value:{input:t,setInput:l},children:n})}},9148:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(9268),i=t(6008),a=t(4676);t(6142);let l=()=>(0,r.jsx)("svg",{width:"24",height:"30",viewBox:"0 0 24 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0C3.50544 0 2.55161 0.395088 1.84835 1.09835C1.14509 1.80161 0.75 2.75544 0.75 3.75V29.0625C0.749881 29.2253 0.792158 29.3853 0.872671 29.5268C0.953184 29.6683 1.06916 29.7864 1.20917 29.8695C1.34919 29.9525 1.50842 29.9977 1.6712 30.0005C1.83397 30.0034 1.99468 29.9638 2.1375 29.8856L12 24.5044L21.8625 29.8856C22.0053 29.9638 22.166 30.0034 22.3288 30.0005C22.4916 29.9977 22.6508 29.9525 22.7908 29.8695C22.9308 29.7864 23.0468 29.6683 23.1273 29.5268C23.2078 29.3853 23.2501 29.2253 23.25 29.0625V3.75C23.25 2.75544 22.8549 1.80161 22.1516 1.09835C21.4484 0.395088 20.4946 0 19.5 0L4.5 0ZM12 8.26875C14.6006 5.59687 21.1012 10.275 12 16.2881C2.89875 10.275 9.39937 5.59875 12 8.2725V8.26875Z",fill:"#01B3A8"})});var o=t(4019),u=t(3649);let s=e=>{let{refetch:n,id:t,firstName:s,country:c,profilePicture:d,visa:v,is_favorite:p,is_scheduled_for_interview:f,dateOfBirth:m,specialization:h}=e,g=(0,i.useRouter)(),x=(0,i.usePathname)(),{updateFavorite:b}=(0,o.s)(!!p,n,t),{updateInterview:C}=(0,u.z)(!!f,n,t);return(0,r.jsxs)("div",{className:"card rounded cursor-pointer relative",onClick:()=>g.push(x+"/"+t),children:[(0,r.jsxs)("div",{className:"flex info-container",children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:d?null==d?void 0:d.path:"/Avatar-Image.png",width:205,style:{height:"205px"},className:"rounded",alt:"person"})}),(0,r.jsxs)("div",{className:"mt-9",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-base info-title",children:"Nationality:"}),(0,r.jsx)("div",{children:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-base info-title",children:"Visa:"}),(0,r.jsx)("div",{children:v})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-base info-title",children:"Age:"}),(0,r.jsx)("div",{children:(0,a.Fw)(m)})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"person-name font-extrabold text-xl ml-6 uppercase",children:s}),(0,r.jsx)("div",{className:"text-base ml-6 mb-5",children:null==h?void 0:h.map((e,n)=>(0,r.jsxs)("span",{className:"capitalize",children:[e.toLocaleLowerCase(),"\xa0"]},n))})]}),f?(0,r.jsx)("div",{className:"p-4 bordered-top font-semibold text-purple-primary interview-status",children:"Status"}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"p-4 bordered-top",children:"Experience"}),(0,r.jsx)("div",{className:"p-4 bordered-top",children:"Programming languages"})]}),(0,r.jsx)("div",{className:"p-4 bordered-top font-bold cursor-pointer ".concat(p?"":"colored"),onClick:b,children:p?"- Remove from Favorites":"+ Add to Favorites"}),(0,r.jsx)("div",{className:"p-4 bordered-top font-bold cursor-pointer ".concat(f?"":"colored"),onClick:C,children:f?"- Remove from Interview":"+ Invite for Interview"}),p&&(0,r.jsx)("div",{className:"absolute -top-1 right-3",children:(0,r.jsx)(l,{})})]})}},7809:function(e,n,t){"use strict";t.d(n,{$:function(){return l},T:function(){return a}});var r=t(9268);t(6006);var i=t(6949);t(525);let a=6,l=e=>{let{currentPage:n,totalElements:t,pageCount:l,onPage:o}=e,u=e=>{o({pageNumber:e-1,pageCount:l})};return(0,r.jsx)("div",{className:"-ml-36",children:(0,r.jsx)(i.Z,{defaultCurrent:n+1,total:t||1,pageSize:l||a,style:{margin:"100px"},onChange:u,nextIcon:"Next",prevIcon:"Prev"})})}},6142:function(){},525:function(){}},function(e){e.O(0,[207,949,667,139,744],function(){return e(e.s=971)}),_N_E=e.O()}]);