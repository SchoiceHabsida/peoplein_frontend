(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8841:function(e,n,t){Promise.resolve().then(t.bind(t,8152))},8152:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var r=t(9268);t(8197);var l=t(6394),s=t.n(l),i=t(6006),a=t(9700),o=t(6008),c=t(5596),u=t(7099),d=t(2425),f=t(5846),m=t.n(f),h=t(793);function v(){let{control:e,handleSubmit:n}=(0,a.cI)({defaultValues:{username:"",password:""}}),{user:t,login:l,loading:f,loginError:v}=(0,u.a)(),x=(0,o.useRouter)(),p=e=>l(e);return(0,i.useEffect)(()=>{t&&(t.roles.some(e=>e.name===h.K$.ADMIN)?x.push("".concat(c.j2)):x.push("".concat(c.rR,"/").concat(c.AI)))},[t,x]),(0,r.jsxs)("div",{className:"login h-screen w-screen overflow-hidden",children:[(0,r.jsx)("div",{className:"h-20 login__header flex items-center",children:(0,r.jsx)("div",{className:"mx-44",children:(0,r.jsx)(m(),{href:"/",children:(0,r.jsx)(s(),{src:"/login-logo.svg",width:167,height:34,alt:"logo"})})})}),(0,r.jsx)("div",{className:"login__content w-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"login__form",children:(0,r.jsxs)("form",{onSubmit:n(p),children:[(0,r.jsx)("div",{className:"login__label text-center text-4xl tracking-tight text-white mb-16",children:"Sign in"}),(0,r.jsx)("div",{className:"w-420 mb-4",children:(0,r.jsx)(d.e,{control:e,name:"username",type:"text",placeholder:"Email"})}),(0,r.jsx)("div",{className:"w-420 mb-8",children:(0,r.jsx)(d.e,{control:e,name:"password",type:"password",placeholder:"Password"})}),v&&(0,r.jsx)("div",{className:"text-center mb-8 login-error-text text-xs",children:"Looks like these are not your correct details. Please try again."}),(0,r.jsxs)("div",{className:"mb-8 text-center",children:[(0,r.jsx)("button",{className:"text-white px-11 py-2.5 bg-color-purple-primary rounded font-semibold",disabled:f,children:f?(0,r.jsx)("span",{className:"loading loading-spinner text-primary"}):"Sign In"}),(0,r.jsx)("div",{})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("div",{className:"flex justify-between w-2/3",children:[(0,r.jsx)("a",{href:"#",className:"login-link",children:"Forgot Password?"}),(0,r.jsx)("a",{href:"#",className:"login-link",children:"Create Account"})]})})]})})})]})}},7099:function(e,n,t){"use strict";t.d(n,{H:function(){return g},a:function(){return p}});var r=t(2805),l=t(9268),s=t(6006),i=t(7056),a=t(1051),o=t(7251),c=t(5596),u=t(6008);function d(){let e=(0,r._)(["\n  query me {\n    getCurrentUser{\n      id\n      username\n      company {\n        id\n        name\n      }\n      roles{\n        id\n        name\n      }\n    }\n  }\n"]);return d=function(){return e},e}function f(){let e=(0,r._)(["\n  mutation ($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return f=function(){return e},e}let m=(0,i.Ps)(d()),h=(0,i.Ps)(f()),v=(0,s.createContext)({}),x=()=>{let{client:e,loading:n,error:t,data:r,refetch:l}=(0,a.a)(m,{fetchPolicy:"no-cache"}),[i,{loading:d}]=(0,o.D)(h),f=(0,u.useRouter)(),[v,x]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),N=(0,s.useCallback)(e=>{let{username:n,password:t,is_admin:r}=e;i({variables:{username:n,password:t}}).then(e=>{let{data:n}=e;g(null);let t=localStorage;l(),t.setItem("token",n.login.token),f.push("".concat(r?"".concat(c.j2,"/").concat(c.rM,"/").concat(c.dk):c.XX))}).catch(e=>{g(e)})},[i,l]);(0,s.useEffect)(()=>{x((null==r?void 0:r.getCurrentUser)?{...null==r?void 0:r.getCurrentUser}:null)},[r]);let j=(0,s.useCallback)(e=>{localStorage.removeItem("token"),f.push(e?"".concat(c.j2).concat(c.lW):c.lW),x(null),l()},[e,f]);return{loading:n||d,error:t,loginError:p,user:v,login:N,logout:j}},p=()=>(0,s.useContext)(v);function g(e){let{children:n}=e,t=x();return(0,l.jsx)(v.Provider,{value:t,children:void 0!==t.user||t.error?n:(0,l.jsx)("div",{children:"Loading..."})})}},2425:function(e,n,t){"use strict";t.d(n,{e:function(){return s}});var r=t(9268),l=t(9700);let s=e=>{let{control:n,name:t,label:s,...i}=e;return(0,r.jsx)(l.Qr,{name:t,control:n,render:e=>{let{field:{...n},fieldState:{error:t}}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{children:[s&&(0,r.jsx)("label",{className:"font-medium  inline-block",style:{marginBottom:"6px"},children:s}),(0,r.jsx)("input",{...i,...n,className:"border-none outline-none border-r-4 py-2 px-4"})]}),(0,r.jsx)("small",{className:"absolute left-0",style:{color:"#BB251A"},children:(null==t?void 0:t.message)?null==t?void 0:t.message:null})]})}})}},793:function(e,n,t){"use strict";var r,l,s,i,a,o,c,u;t.d(n,{Fz:function(){return r},GV:function(){return s},K$:function(){return i},Tb:function(){return d},ym:function(){return l}}),(a=r||(r={})).search="getAllApplicantsPaged",a.favorites="getAllFavouriteApplicants",a.interviews="getAllScheduledForInterview",a.filter="searchApplicantsByCriteria",(o=l||(l={})).search="search",o.favorites="favorites",o.interviews="interviews",(c=s||(s={})).FRONTEND="FRONTEND",c.BACKEND="BACKEND",(u=i||(i={})).ADMIN="ROLE_ADMIN",u.COMPANY="ROLE_COMPANY";let d=419430400},5596:function(e,n,t){"use strict";t.d(n,{t3:function(){return x},OF:function(){return p.OF},Tb:function(){return g.Tb},zb:function(){return h},j2:function(){return l},rR:function(){return i},Yi:function(){return v},eH:function(){return m},rM:function(){return d},yv:function(){return o},XX:function(){return r},St:function(){return c},lW:function(){return s},dk:function(){return f},hm:function(){return u},AI:function(){return a},ig:function(){return p.ig}});let r="",l="/admin",s="/login",i="/applicants",a="/search",o="/favorites",c="/interviews",u="/results",d="/dashboard",f="people",m="companies",h="add",v="change-password",x="https://peoplein-api.habsida.com/graphql";var p=t(791),g=t(793)},791:function(e,n,t){"use strict";var r,l;t.d(n,{IN:function(){return r},OF:function(){return i},ig:function(){return s}}),(l=r||(r={})).IN_PROJECT="IN_PROJECT",l.SEARCHING="SEARCHING",l.EMPLOYED="EMPLOYED";let s=[{label:"",value:"STATUS",children:[{label:"Searching",value:r.SEARCHING},{label:"Employed",value:r.EMPLOYED},{label:"In project",value:r.IN_PROJECT}]}],i=[{label:"",value:"CV",children:[{label:"Open",value:"open"},{label:"Download",value:"download"},{label:"Delete",value:"delete"}]}]},8197:function(){}},function(e){e.O(0,[207,846,700,394,667,139,744],function(){return e(e.s=8841)}),_N_E=e.O()}]);