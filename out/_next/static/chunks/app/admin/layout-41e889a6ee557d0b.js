(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{6524:function(e,n,t){Promise.resolve().then(t.bind(t,1804))},1804:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var r=t(9268),i=t(7099),o=t(5596),u=t(7245);t(8274);var l=t(6006),c=t(6008);let s=()=>(0,r.jsxs)("svg",{width:"40",height:"24",viewBox:"0 0 40 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M20 15C23.3137 15 26 12.3137 26 9C26 5.68629 23.3137 3 20 3C16.6863 3 14 5.68629 14 9C14 12.3137 16.6863 15 20 15Z",stroke:"#0354A6",strokeWidth:"1.5",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M10.9062 20.25C11.8278 18.6536 13.1533 17.3278 14.7496 16.4061C16.3459 15.4844 18.1567 14.9991 20 14.9991C21.8433 14.9991 23.6541 15.4844 25.2504 16.4061C26.8467 17.3278 28.1722 18.6536 29.0938 20.25",stroke:"#0354A6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a={actionContent:{marginRight:"36px"},addAction:{width:"211px",height:"55px",background:"#FEFEFE",borderRadius:"4px",color:"#101828"},addIcon:{background:"#EFEFEF"},companyColor:{color:"#BB251A",borderTop:"1px solid #E4E7EC"},actionMenu:{border:"1px solid #E4E7EC",boxShadow:"0px 12px 16px -4px rgba(16, 24, 40, 0.1), 0px 4px 6px -2px rgba(16, 24, 40, 0.05)",borderRadius:"4px"}},d=()=>{let[e,n]=(0,l.useState)(!1),{user:t}=(0,i.a)();return(0,r.jsx)("div",{className:"flex items-center gap-6",style:a.actionContent,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>n(!e),className:"flex text-white gap-4 items-center justify-center",style:a.addAction,children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",style:a.addIcon,children:(0,r.jsx)(s,{})}),(0,r.jsx)("span",{className:"capitalize",children:t.username})]}),e&&(0,r.jsx)("div",{className:"absolute top-0 -left-3",children:(0,r.jsx)(f,{onClose:()=>n(!1)})})]})})},f=e=>{let{onClose:n}=e;(0,c.useRouter)();let{logout:t}=(0,i.a)(),u=e=>{n()};return(0,r.jsx)("div",{className:"w-60 bg-white rounded ",style:a.actionMenu,children:(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("button",{onClick:()=>u(o.Yi),className:"h-10 w-full flex items-center mb-1 mx-4",children:"Change Password"}),(0,r.jsx)("button",{onClick:()=>{t(!0),n()},className:"h-10 w-full font-semibold flex items-center px-4",style:a.companyColor,children:"Log out"})]})})},h=()=>{let{user:e}=(0,i.a)();return(0,r.jsxs)("div",{className:"admin-header flex",children:[(0,r.jsx)("div",{className:"admin-logo flex items-center justify-center h-full",children:"peoplein"}),(0,r.jsx)("div",{className:"admin-banner grow h-full flex items-center justify-end",children:e&&(0,r.jsx)(d,{})})]})};function x(e){let{children:n}=e,{user:t,loading:s}=(0,i.a)(),a=(0,c.useRouter)();return(0,l.useEffect)(()=>{t||s||a.push("".concat(o.j2,"/").concat(o.lW))}),(0,r.jsx)(u.MF,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(h,{}),n]})})}},7099:function(e,n,t){"use strict";t.d(n,{H:function(){return C},a:function(){return m}});var r=t(2805),i=t(9268),o=t(6006),u=t(7056),l=t(1051),c=t(7251),s=t(5596),a=t(6008);function d(){let e=(0,r._)(["\n  query me {\n    getCurrentUser{\n      id\n      username\n      company {\n        id\n        name\n      }\n      roles{\n        id\n        name\n      }\n    }\n  }\n"]);return d=function(){return e},e}function f(){let e=(0,r._)(["\n  mutation ($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return f=function(){return e},e}let h=(0,u.Ps)(d()),x=(0,u.Ps)(f()),v=(0,o.createContext)({}),p=()=>{let{client:e,loading:n,error:t,data:r,refetch:i}=(0,l.a)(h,{fetchPolicy:"no-cache"}),[u,{loading:d}]=(0,c.D)(x),f=(0,a.useRouter)(),[v,p]=(0,o.useState)(null),[m,C]=(0,o.useState)(null),g=(0,o.useCallback)(e=>{let{username:n,password:t,is_admin:r}=e;u({variables:{username:n,password:t}}).then(e=>{let{data:n}=e;C(null);let t=localStorage;i(),t.setItem("token",n.login.token),f.push("".concat(r?"".concat(s.j2,"/").concat(s.rM,"/").concat(s.dk):s.XX))}).catch(e=>{C(e)})},[u,i]);(0,o.useEffect)(()=>{p((null==r?void 0:r.getCurrentUser)?{...null==r?void 0:r.getCurrentUser}:null)},[r]);let j=(0,o.useCallback)(e=>{localStorage.removeItem("token"),f.push(e?"".concat(s.j2).concat(s.lW):s.lW),p(null),i()},[e,f]);return{loading:n||d,error:t,loginError:m,user:v,login:g,logout:j}},m=()=>(0,o.useContext)(v);function C(e){let{children:n}=e,t=p();return(0,i.jsx)(v.Provider,{value:t,children:void 0!==t.user||t.error?n:(0,i.jsx)("div",{children:"Loading..."})})}},793:function(e,n,t){"use strict";var r,i,o,u,l,c,s,a;t.d(n,{Fz:function(){return r},GV:function(){return o},K$:function(){return u},Tb:function(){return d},ym:function(){return i}}),(l=r||(r={})).search="getAllApplicantsPaged",l.favorites="getAllFavouriteApplicants",l.interviews="getAllScheduledForInterview",l.filter="searchApplicantsByCriteria",(c=i||(i={})).search="search",c.favorites="favorites",c.interviews="interviews",(s=o||(o={})).FRONTEND="FRONTEND",s.BACKEND="BACKEND",(a=u||(u={})).ADMIN="ROLE_ADMIN",a.COMPANY="ROLE_COMPANY";let d=419430400},5596:function(e,n,t){"use strict";t.d(n,{t3:function(){return p},OF:function(){return m.OF},Tb:function(){return C.Tb},zb:function(){return x},j2:function(){return i},rR:function(){return u},Yi:function(){return v},eH:function(){return h},rM:function(){return d},yv:function(){return c},XX:function(){return r},St:function(){return s},lW:function(){return o},dk:function(){return f},hm:function(){return a},AI:function(){return l},ig:function(){return m.ig}});let r="",i="/admin",o="/login",u="/applicants",l="/search",c="/favorites",s="/interviews",a="/results",d="/dashboard",f="people",h="companies",x="add",v="change-password",p="https://peoplein-api.habsida.com/graphql";var m=t(791),C=t(793)},791:function(e,n,t){"use strict";var r,i;t.d(n,{IN:function(){return r},OF:function(){return u},ig:function(){return o}}),(i=r||(r={})).IN_PROJECT="IN_PROJECT",i.SEARCHING="SEARCHING",i.EMPLOYED="EMPLOYED";let o=[{label:"",value:"STATUS",children:[{label:"Searching",value:r.SEARCHING},{label:"Employed",value:r.EMPLOYED},{label:"In project",value:r.IN_PROJECT}]}],u=[{label:"",value:"CV",children:[{label:"Open",value:"open"},{label:"Download",value:"download"},{label:"Delete",value:"delete"}]}]},3092:function(e,n,t){"use strict";t.r(n),t.d(n,{AdminFiltersContext:function(){return o},AdminFiltersProvider:function(){return u}});var r=t(9268),i=t(6006);let o=i.createContext(null),u=e=>{let{children:n}=e,[t,u]=(0,i.useState)("");return(0,r.jsx)(o.Provider,{value:{keyword:t,setKeyword:u},children:n})}},9874:function(e,n,t){"use strict";t.r(n),t.d(n,{FilterContext:function(){return o},FilterProvider:function(){return u}});var r=t(9268),i=t(6006);let o=i.createContext(null),u=e=>{let{children:n}=e,[t,u]=(0,i.useState)({});return(0,r.jsx)(o.Provider,{value:{input:t,setInput:u},children:n})}},8192:function(e,n,t){"use strict";t.r(n),t.d(n,{RootProvider:function(){return v}});var r=t(9268),i=t(7099),o=t(5647),u=t(9955),l=t(2502),c=t(4387),s=t(5596),a=t(5933),d=t.n(a);let f=d()({uri:s.t3}),h=(0,l.v)((e,n)=>{let{headers:t}=n,r=localStorage.getItem("token")||sessionStorage.getItem("token");return{headers:{...t,authorization:r?"Bearer ".concat(r):""}}}),x=new o.f({link:h.concat(f),cache:new u.h});function v(e){let{children:n}=e;return(0,r.jsx)(c.e,{client:x,children:(0,r.jsx)(i.H,{children:n})})}},9214:function(e,n,t){"use strict";t.r(n),t.d(n,{SearchContext:function(){return o},SearchProvider:function(){return u}});var r=t(9268),i=t(6006);let o=i.createContext(null),u=e=>{let{children:n}=e,[t,u]=(0,i.useState)("");return(0,r.jsx)(o.Provider,{value:{keyword:t,setKeyword:u},children:n})}},7245:function(e,n,t){"use strict";t.d(n,{$z:function(){return o.AdminFiltersContext},MF:function(){return o.AdminFiltersProvider},X$:function(){return i.SearchProvider},ci:function(){return i.SearchContext},hz:function(){return r.FilterProvider}});var r=t(9874),i=t(9214),o=t(3092);t(8192)},8274:function(){}},function(e){e.O(0,[207,257,667,139,744],function(){return e(e.s=6524)}),_N_E=e.O()}]);