(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{313:function(e,n,t){Promise.resolve().then(t.bind(t,154))},154:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var s=t(2805),i=t(9268),l=t(8061),a=t(7809),r=t(5942),d=t(3922),c=t(2143),o=t(8743),u=t(4791),p=t(8070),x=t(6006);t(1149);var h=t(7056),m=t(1051),v=t(7245),j=t(5610),g=t(423),f=t(5101),N=t(1229),y=t(5596);let b=()=>{let[e,n]=(0,x.useState)(!1);return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(f.p,{label:"CV",icon:(0,i.jsx)(g.e,{}),onCLick:()=>n(!1)}),e&&(0,i.jsx)("div",{className:"absolute top-0 left-0",children:(0,i.jsx)(N.j,{label:"CV",onClose:()=>n(!1),onChange:e=>console.log(e),options:y.OF,multiple:!0,styles:{width:"240px"}})})]})};t(8574);var A=t(6008),B=t(8656);let C=e=>{var n,t,s,l,a,r,d;let{applicantId:c}=e,{data:o,loading:u}=(0,m.a)(B.S,{variables:{id:c},fetchPolicy:"no-cache"}),p=(0,A.usePathname)(),x=(0,A.useRouter)();return(0,i.jsxs)("div",{className:"flex flex-col gap-6 applicant-details",children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:(null==o?void 0:o.getApplicantById.profilePicture)?null===(n=null==o?void 0:o.getApplicantById.profilePicture)||void 0===n?void 0:n.path:"/Avatar-Image.png",width:205,style:{height:"205px"},className:"rounded",alt:"person"})}),(0,i.jsxs)("div",{className:"right-actions flex flex-col flex-grow items-end justify-center gap-2 pr-6",children:[(0,i.jsx)(f.A,{}),(0,i.jsx)(b,{}),(0,i.jsx)(f.p,{onCLick:()=>x.push("".concat(p,"/").concat(c)),label:"Edit account",icon:(0,i.jsx)(j.o,{})})]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)("div",{className:"w-2/3",children:[(0,i.jsxs)("div",{className:"mb-14",children:[(0,i.jsxs)("div",{className:"applicant-name",children:[null==o?void 0:o.getApplicantById.firstName," ",null==o?void 0:o.getApplicantById.lastName]}),(0,i.jsx)("div",{children:null===(t=null==o?void 0:o.getApplicantById.specialization)||void 0===t?void 0:t.map((e,n)=>(0,i.jsx)("span",{children:e},n))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"sub-title",children:"Description:"}),(0,i.jsx)("div",{className:"section",children:"About"}),(0,i.jsxs)("div",{className:"sub-title-1 mb-6",children:["Degree: ",null==o?void 0:null===(s=o.getApplicantById)||void 0===s?void 0:s.degree]}),null===(l=null==o?void 0:o.getApplicantById.experience)||void 0===l?void 0:l.map((e,n)=>(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"sub-title-1",children:e.company}),(0,i.jsxs)("div",{className:"mb-6",children:[e.yearsWorked," + years"]}),(0,i.jsx)("div",{className:"section mb-6",children:"Background Details"}),(0,i.jsx)("div",{children:e.details})]},n)),(0,i.jsx)("div",{className:"sub-title-1",children:"Certificates:"}),(0,i.jsx)("div",{className:"mb-6",children:null==o?void 0:o.getApplicantById.certificates.map((e,n)=>(0,i.jsxs)("div",{children:[" - ",e.certificateName]},n))}),(0,i.jsx)("div",{className:"sub-title-1",children:"Skills:"}),(0,i.jsx)("div",{className:"mb-6",children:null==o?void 0:null===(a=o.getApplicantById)||void 0===a?void 0:null===(r=a.skills)||void 0===r?void 0:r.map((e,n)=>(0,i.jsxs)("div",{children:[" - ",e.skillName]},n))}),(0,i.jsx)("div",{className:"sub-title-1",children:"Others:"}),(0,i.jsx)("div",{className:"mb-6",children:null==o?void 0:null===(d=o.getApplicantById)||void 0===d?void 0:d.description}),"Best Regards ",(0,i.jsx)("br",{}),"PM"]})]}),(0,i.jsxs)("div",{className:"w-1/3",children:[(0,i.jsx)("div",{className:"sub-title",children:"Nationality:"}),(0,i.jsx)("div",{className:"mb-6",children:null==o?void 0:o.getApplicantById.country}),(0,i.jsx)("div",{className:"sub-title",children:"Visa:"}),(0,i.jsx)("div",{className:"mb-6",children:null==o?void 0:o.getApplicantById.visa}),(0,i.jsx)("div",{className:"sub-title",children:"Email:"}),(0,i.jsx)("div",{className:"mb-6",children:null==o?void 0:o.getApplicantById.email})]})]})]})};var I=t(4676),k=t(183);function P(){let e=(0,s._)(["\n    query GetApplicants ($pageNumber: Int!, $pageCount: Int!, $companyId: ID!) {\n        getAllApplicantsPaged (pageNumber: $pageNumber, pageCount: $pageCount, companyId: $companyId) {\n            content{\n                id\n                firstName\n                lastName\n                country\n                gender\n                visa\n                dateOfBirth\n                yearsOfExperience,\n                profilePicture {\n                    id\n                    path\n                    type\n                }\n                specialization \n                createdAt,\n                status\n            }\n        currentPage\n        totalElements\n        totalPages\n      }\n    }\n  "]);return P=function(){return e},e}let F=(0,h.Ps)(P());function w(){var e,n,t,s,h,j;let[g,f]=(0,x.useState)(!1),{data:N,loading:y,error:b,refetch:A}=(0,m.a)(F,{variables:{pageNumber:0,pageCount:10,companyId:""}}),B={tableStyles:{header:{borderRadius:0},statusBadge:{height:"28px",fontSize:"12px",color:"#667085",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},statusBadgeHeader:{background:"#FFFFFF",border:"1px solid #FFFFFF"},statusBadgeContent:{background:"#F2F4F7",border:"1px solid #F2F4F7"},tableBorder:{borderBottom:"1px solid #f2f2f2 !important"}}},[P,w]=(0,x.useState)(!1),[S,E]=(0,x.useState)(""),{keyword:$,setKeyword:D}=(0,x.useContext)(v.$z),{data:O,refetch:_,loading:z}=(0,m.a)(k.P,{variables:{keyword:$,pageNumber:0},skip:!$}),K=e=>{A(e)};(0,x.useEffect)(()=>{A({pageNumber:0,pageCount:10})},[]),(0,x.useEffect)(()=>{$?f(!0):f(!1)},[$]),(0,x.useEffect)(()=>()=>{D("")},[]);let V=e=>e?null==O?void 0:O.searchApplicantsByKeyword:null==N?void 0:N.getAllApplicantsPaged;return(0,i.jsxs)("div",{className:"list h-full pt-14 mb-24",children:[(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsx)("div",{children:(0,i.jsxs)(p.y,{label:"People list",children:[(0,i.jsx)(u.Breadcrumb,{with_bg:!1}),(0,i.jsx)(o.r,{})]})}),(0,i.jsxs)("div",{className:"overflow-x-auto scroll-content",children:[(0,i.jsxs)("table",{className:"table w-full",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:B.tableStyles.header,children:(0,i.jsx)(r.X,{onChange:()=>{}})}),(0,i.jsx)("th",{children:(0,i.jsxs)("div",{className:"flex gap-1 cursor-pointer",children:[(0,i.jsx)("span",{children:"Name"}),(0,i.jsx)(d.K,{})]})}),(0,i.jsx)("th",{children:(0,i.jsxs)("div",{className:"flex gap-1 cursor-pointer",children:[(0,i.jsx)("span",{children:"Specialization"}),(0,i.jsx)(d.K,{})]})}),(0,i.jsx)("th",{children:(0,i.jsxs)("div",{className:"flex gap-1 cursor-pointer",children:[(0,i.jsx)("span",{children:"Nationality"}),(0,i.jsx)(d.K,{})]})}),(0,i.jsx)("th",{children:(0,i.jsxs)("div",{className:"flex gap-1 cursor-pointer",children:[(0,i.jsx)("span",{children:"Visa"}),(0,i.jsx)(d.K,{})]})}),(0,i.jsx)("th",{children:(0,i.jsxs)("div",{className:"flex gap-1 cursor-pointer",children:[(0,i.jsx)("span",{children:"Created at"}),(0,i.jsx)(d.K,{})]})}),(0,i.jsx)("th",{children:(0,i.jsx)("div",{style:{...B.tableStyles.statusBadge,...B.tableStyles.statusBadgeHeader},children:"Status"})}),(0,i.jsx)("th",{style:B.tableStyles.header})]})}),(0,i.jsx)("tbody",{children:(null===(e=V(g))||void 0===e?void 0:e.content)?null===(n=V(g))||void 0===n?void 0:null===(t=n.content)||void 0===t?void 0:t.map(e=>{var n;return(0,i.jsxs)("tr",{className:"cursor-pointer",children:[(0,i.jsx)("th",{children:(0,i.jsx)(r.X,{onChange:()=>{}})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"flex items-center space-x-3",children:(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"font-bold",children:[e.firstName," ",e.lastName]})})})}),(0,i.jsx)("td",{children:null===(n=e.specialization)||void 0===n?void 0:n.map((e,n)=>(0,i.jsxs)("span",{children:[" ",e]},n))}),(0,i.jsx)("td",{children:e.country}),(0,i.jsx)("td",{children:e.visa}),(0,i.jsx)("td",{children:e.createdAt?(0,I.p6)(new Date(e.createdAt)):null}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{style:{...B.tableStyles.statusBadge,...B.tableStyles.statusBadgeContent},children:e.status})}),(0,i.jsx)("td",{children:(0,i.jsx)("button",{className:"btn btn-ghost btn-xs",onClick:()=>{E(e.id),w(!0)},children:(0,i.jsx)(c.t,{})})})]},e.id)}):null})]}),(0,i.jsx)("div",{className:"w-full text-center mt-4",children:y||z?(0,i.jsx)("span",{className:"loading loading-spinner loading-md"}):(null===(s=V(g))||void 0===s?void 0:s.content.length)===0&&(0,i.jsx)("div",{className:"mx-auto uppercase text-slate-400 text-sm",children:"No data found"})})]})]}),(0,i.jsx)("div",{className:"table-pagination",children:(0,i.jsx)(a.$,{totalElements:(null===(h=V(g))||void 0===h?void 0:h.totalElements)||1,currentPage:(null===(j=V(g))||void 0===j?void 0:j.currentPage)||0,pageCount:10,onPage:K})}),P&&(0,i.jsx)("div",{className:"absolute",children:(0,i.jsx)(l.t,{onClose:()=>w(!1),children:(0,i.jsx)(C,{applicantId:S})})})]})}},8656:function(e,n,t){"use strict";t.d(n,{S:function(){return a}});var s=t(2805),i=t(7056);function l(){let e=(0,s._)(["\n    query getApplicant ($id: ID!) {\n        getApplicantById (id: $id) {\n            id\n            profilePicture {\n                id\n                path\n                type\n            }\n            resume {\n                id\n                path\n                type\n            }\n            firstName\n            lastName\n            country\n            gender\n            visa\n            specialization\n            dateOfBirth\n            degree\n            yearsOfExperience\n            resumeGoogleDrivePath\n            languages {\n                languageName\n            }\n            skills {\n                skillName\n                skillType\n            }\n            experience {\n                id\n                company\n                startOfWork\n                endOfWork\n                details\n                yearsWorked\n            }\n            certificates {\n                id\n                certificateName\n                acquisitionDate\n                expiryDate\n            },\n            email\n            description\n        }\n    }\n"]);return l=function(){return e},e}let a=(0,i.Ps)(l())},183:function(e,n,t){"use strict";t.d(n,{P:function(){return a}});var s=t(2805),i=t(7056);function l(){let e=(0,s._)(["\n    query searchApplicants ($pageNumber: Int, $pageCount: Int, $keyword: String) {\n        searchApplicantsByKeyword (pageNumber: $pageNumber, pageCount: $pageCount, keyword: $keyword) {\n            content{\n                id\n                firstName\n                lastName\n                country\n                gender\n                visa\n                dateOfBirth\n                yearsOfExperience,\n                profilePicture {\n                    id\n                    path\n                    type\n                }\n                specialization\n            }\n        currentPage\n        totalElements\n        totalPages\n        }\n    }\n"]);return l=function(){return e},e}let a=(0,i.Ps)(l())},4676:function(e,n,t){"use strict";t.d(n,{Fw:function(){return s},eC:function(){return function e(n){return n?"object"==typeof n?Array.isArray(n)?n.map(e):Object.fromEntries(Object.entries(n).map(n=>{let[t,s]=n;return[t,e(s)]})):""!==n?n:void 0:void 0}},oV:function(){return function e(n){if("object"!=typeof n||null===n)return n;if(Array.isArray(n))return n.map(n=>e(n));let t={};for(let s in n)"__typename"!==s&&(t[s]=e(n[s]));return t}},p6:function(){return i}});let s=e=>{if(!e)return"";{let n=new Date(e),t=new Date,s=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&s--,s}};function i(e){var n=new Date(e),t=""+(n.getMonth()+1),s=""+n.getDate(),i=n.getFullYear();return t.length<2&&(t="0"+t),s.length<2&&(s="0"+s),[i,t,s].join("-")}},1149:function(){},8574:function(){}},function(e){e.O(0,[207,846,257,949,835,667,139,744],function(){return e(e.s=313)}),_N_E=e.O()}]);