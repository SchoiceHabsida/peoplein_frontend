(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{4826:function(e,n,t){Promise.resolve().then(t.bind(t,1208))},1208:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(9268),l=t(7099),i=t(2425),a=t(5596),s=t(6008),o=t(6006),c=t(9700);t(1509);var u=t(793);function d(){let{control:e,handleSubmit:n}=(0,c.cI)({defaultValues:{username:"",password:""}}),{user:t,login:d,loading:f,loginError:m}=(0,l.a)(),h=(0,s.useRouter)(),v=e=>{d({...e,is_admin:!0})};return(0,o.useEffect)(()=>{t&&(t.roles.some(e=>e.name===u.K$.ADMIN)?h.push("".concat(a.j2,"/").concat(a.rM,"/").concat(a.dk)):h.push("".concat(a.rR,"/").concat(a.AI)))},[t,h]),(0,r.jsx)("div",{className:"admin__login w-full flex justify-center items-center",children:(0,r.jsx)("div",{className:"admin__login__content w-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"login__form",children:(0,r.jsxs)("form",{onSubmit:n(v),children:[(0,r.jsx)("div",{className:"login__label text-center text-4xl tracking-tight mb-16",children:"Login"}),(0,r.jsx)("div",{className:"w-395 mb-4",children:(0,r.jsx)(i.e,{control:e,name:"username",type:"text",placeholder:"Email"})}),(0,r.jsx)("div",{className:"w-395 mb-8",children:(0,r.jsx)(i.e,{control:e,name:"password",type:"password",placeholder:"Password"})}),m&&(0,r.jsx)("div",{className:"text-center mb-8 login-error-text text-xs",children:"Looks like these are not your correct details. Please try again."}),(0,r.jsx)("div",{className:"mb-8 text-center",children:(0,r.jsx)("button",{className:"text-white px-11 py-2.5 rounded font-semibold w-full",disabled:f,children:f?(0,r.jsx)("span",{className:"loading loading-spinner text-primary"}):"Login"})}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("div",{className:"flex justify-between forgot-link",children:(0,r.jsx)("a",{href:"#",className:"login-link",children:"Forgot Password?"})})})]})})})})}},7099:function(e,n,t){"use strict";t.d(n,{H:function(){return g},a:function(){return x}});var r=t(2805),l=t(9268),i=t(6006),a=t(7056),s=t(1051),o=t(7251),c=t(5596),u=t(6008);function d(){let e=(0,r._)(["\n  query me {\n    getCurrentUser{\n      id\n      username\n      company {\n        id\n        name\n      }\n      roles{\n        id\n        name\n      }\n    }\n  }\n"]);return d=function(){return e},e}function f(){let e=(0,r._)(["\n  mutation ($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return f=function(){return e},e}let m=(0,a.Ps)(d()),h=(0,a.Ps)(f()),v=(0,i.createContext)({}),p=()=>{let{client:e,loading:n,error:t,data:r,refetch:l}=(0,s.a)(m,{fetchPolicy:"no-cache"}),[a,{loading:d}]=(0,o.D)(h),f=(0,u.useRouter)(),[v,p]=(0,i.useState)(null),[x,g]=(0,i.useState)(null),N=(0,i.useCallback)(e=>{let{username:n,password:t,is_admin:r}=e;a({variables:{username:n,password:t}}).then(e=>{let{data:n}=e;g(null);let t=localStorage;l(),t.setItem("token",n.login.token),f.push("".concat(r?"".concat(c.j2,"/").concat(c.rM,"/").concat(c.dk):c.XX))}).catch(e=>{g(e)})},[a,l]);(0,i.useEffect)(()=>{p((null==r?void 0:r.getCurrentUser)?{...null==r?void 0:r.getCurrentUser}:null)},[r]);let b=(0,i.useCallback)(e=>{localStorage.removeItem("token"),f.push(e?"".concat(c.j2).concat(c.lW):c.lW),p(null),l()},[e,f]);return{loading:n||d,error:t,loginError:x,user:v,login:N,logout:b}},x=()=>(0,i.useContext)(v);function g(e){let{children:n}=e,t=p();return(0,l.jsx)(v.Provider,{value:t,children:void 0!==t.user||t.error?n:(0,l.jsx)("div",{children:"Loading..."})})}},2425:function(e,n,t){"use strict";t.d(n,{e:function(){return i}});var r=t(9268),l=t(9700);let i=e=>{let{control:n,name:t,label:i,...a}=e;return(0,r.jsx)(l.Qr,{name:t,control:n,render:e=>{let{field:{...n},fieldState:{error:t}}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{children:[i&&(0,r.jsx)("label",{className:"font-medium  inline-block",style:{marginBottom:"6px"},children:i}),(0,r.jsx)("input",{...a,...n,className:"border-none outline-none border-r-4 py-2 px-4"})]}),(0,r.jsx)("small",{className:"absolute left-0",style:{color:"#BB251A"},children:(null==t?void 0:t.message)?null==t?void 0:t.message:null})]})}})}},793:function(e,n,t){"use strict";var r,l,i,a,s,o,c,u;t.d(n,{Fz:function(){return r},GV:function(){return i},K$:function(){return a},Tb:function(){return d},ym:function(){return l}}),(s=r||(r={})).search="getAllApplicantsPaged",s.favorites="getAllFavouriteApplicants",s.interviews="getAllScheduledForInterview",s.filter="searchApplicantsByCriteria",(o=l||(l={})).search="search",o.favorites="favorites",o.interviews="interviews",(c=i||(i={})).FRONTEND="FRONTEND",c.BACKEND="BACKEND",(u=a||(a={})).ADMIN="ROLE_ADMIN",u.COMPANY="ROLE_COMPANY";let d=419430400},5596:function(e,n,t){"use strict";t.d(n,{t3:function(){return p},OF:function(){return x.OF},Tb:function(){return g.Tb},zb:function(){return h},j2:function(){return l},rR:function(){return a},Yi:function(){return v},eH:function(){return m},rM:function(){return d},yv:function(){return o},XX:function(){return r},St:function(){return c},lW:function(){return i},dk:function(){return f},hm:function(){return u},AI:function(){return s},ig:function(){return x.ig}});let r="",l="/admin",i="/login",a="/applicants",s="/search",o="/favorites",c="/interviews",u="/results",d="/dashboard",f="people",m="companies",h="add",v="change-password",p="https://peoplein-api.habsida.com/graphql";var x=t(791),g=t(793)},791:function(e,n,t){"use strict";var r,l;t.d(n,{IN:function(){return r},OF:function(){return a},ig:function(){return i}}),(l=r||(r={})).IN_PROJECT="IN_PROJECT",l.SEARCHING="SEARCHING",l.EMPLOYED="EMPLOYED";let i=[{label:"",value:"STATUS",children:[{label:"Searching",value:r.SEARCHING},{label:"Employed",value:r.EMPLOYED},{label:"In project",value:r.IN_PROJECT}]}],a=[{label:"",value:"CV",children:[{label:"Open",value:"open"},{label:"Download",value:"download"},{label:"Delete",value:"delete"}]}]},1509:function(){}},function(e){e.O(0,[207,700,667,139,744],function(){return e(e.s=4826)}),_N_E=e.O()}]);