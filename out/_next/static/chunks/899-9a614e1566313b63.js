(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{899:function(e,n,l){"use strict";l.r(n),l.d(n,{CompanyForm:function(){return N}});var a=l(2805),s=l(9268),i=l(2425),t=l(9700);l(7228);var o=l(6008),r=l(7056),d=l(1051),c=l(7251),u=l(4676),m=l(5596),p=l(3911),h=l(8811),v=l(6006),x=l(1309),j=l(9651),f=l(4697);function b(){let e=(0,a._)(["\n    mutation (",", ",") {\n      ","(",",  ",") {\n        id\n      }\n    }\n  "]);return b=function(){return e},e}let g=(e,n)=>(0,r.Ps)(b(),n?"$input: CompanyInput":"$company: CompanyInput, $input: UserInput!",n?"$id: ID!":"",e,n?"input: $input,":"input: $input, company: $company",n?"id: $id":""),N=()=>{var e,n,l,a,r;let{id:b}=(0,o.useParams)(),N=(0,o.useRouter)(),[y,C]=(0,v.useState)(),[k,w]=(0,v.useState)(),{data:L}=(0,d.a)(p.SKILLS_QUERY),{data:I}=(0,d.a)(p.VISAS_QUERY),{data:S}=(0,d.a)(f.$,{variables:{id:b},skip:!b,fetchPolicy:"no-cache"}),[A,{loading:B}]=(0,c.D)(g(b?"updateCompany":"registrationCompany",b)),{control:_,handleSubmit:P,setValue:$,watch:V,reset:E}=(0,t.cI)({defaultValues:{name:"",address:"",phoneNumber:"",hrManager:"",registrationNumber:"",email:"",foundedAt:"",website:"",preferredVisas:[],requiredSkills:[]}});(0,v.useEffect)(()=>{(null==S?void 0:S.getCompanyById)&&b&&E(S.getCompanyById)},[S]);let{control:M,getValues:q}=(0,t.cI)({defaultValues:{username:"",password:""}}),R=e=>{console.log(e);let n=q();delete e.id,delete e.favoriteApplicants,A({variables:{input:n.password&&n.username&&!b?n:void 0,[b?"input":"company"]:{...(0,u.oV)({...e}),logo:y||void 0,banner:k||k},id:b}}).then(e=>N.push("".concat(m.j2).concat(m.rM,"/").concat(m.eH))).catch(e=>console.log(e))};return(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("form",{onSubmit:P(R),className:"form-wrapper mb-2",children:[(0,s.jsxs)("div",{className:"form-fields rounded",children:[(0,s.jsxs)("div",{className:"upload-actions flex",children:[(0,s.jsx)("div",{className:"user-photo h-full cursor-pointer",children:(0,s.jsx)(j.w,{onChange:e=>C(e),imagePath:null===(e=null==S?void 0:S.getCompanyById.logo)||void 0===e?void 0:e.path})}),(0,s.jsx)("div",{className:"user-logo h-full cursor-pointer flex-grow",children:(0,s.jsx)(j.w,{aspect:523/205,onChange:e=>w(e),imagePath:null===(n=null==S?void 0:S.getCompanyById.banner)||void 0===n?void 0:n.path})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 mt-2",children:[(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"name",control:_,placeholder:"Company name",label:"Company name"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"registrationNumber",control:_,placeholder:"Сompany registration number",label:"Сompany registration number"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"hrManager",control:_,placeholder:"Hr manager",label:"Hr manager"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"address",control:_,placeholder:"Address",label:"Address"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"email",control:_,placeholder:"email",label:"Email address"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"website",control:_,placeholder:"Website",label:"Website"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"phoneNumber",control:_,placeholder:"phone",label:"Phone number"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(x.z,{label:"Founded date",onChange:e=>{$("foundedAt",e.toLocaleString())},value:V().foundedAt})}),!b&&(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"username",control:M,placeholder:"Username",label:"Username"})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(i.e,{name:"password",control:M,placeholder:"Password",label:"Password"})})]}),(0,s.jsxs)("div",{className:"w-full flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(h.A,{label:"Skills",multiple:!0,value:(null===(l=V().requiredSkills)||void 0===l?void 0:l.map(e=>({label:e.skillName,value:e.skillName})))||"",options:(null==L?void 0:null===(a=L.getAllSkills)||void 0===a?void 0:a.map(e=>({label:e.skillName,value:e.skillName})))||[],onChange:e=>{$("requiredSkills",e.map(e=>({...null==L?void 0:L.getAllSkills.find(n=>n.skillName===e.value),__typename:void 0})))}})}),(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsx)(h.A,{multiple:!0,label:"Visa",value:(null===(r=V().preferredVisas)||void 0===r?void 0:r.map(e=>({label:e,value:e})))||[],options:(null==I?void 0:I.getAllVisas.map(e=>({value:e,label:e})))||[],onChange:e=>{$("preferredVisas",e.map(e=>e.value))}})})]})]})]}),(0,s.jsxs)("div",{className:"form-actions w-full flex items-center mt-8 gap-4 justify-center",children:[(0,s.jsx)("button",{type:"button",onClick:()=>N.back(),className:"form-btn form-btn--1",children:"Cancel"}),(0,s.jsx)("button",{disabled:B,type:"submit",className:"form-btn form-btn--2",children:"Save"})]})]})})}},5942:function(e,n,l){"use strict";l.d(n,{X:function(){return s}});var a=l(9268);l(6062);let s=e=>{let{checked:n,onChange:l,label:s}=e,i=e=>{l(e.target.checked)};return(0,a.jsxs)("label",{className:"checkbox-wrapper flex items-center gap-2",children:[(0,a.jsx)("input",{checked:n,type:"checkbox",className:"custom-checkbox checkbox",onChange:i}),(0,a.jsx)("span",{children:s})]})}},5610:function(e,n,l){"use strict";l.d(n,{o:function(){return s}});var a=l(9268);let s=()=>(0,a.jsxs)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M6.9458 16.1365H25.6125",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M16.2792 6.80322L25.6125 16.1366L16.2792 25.4699",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},423:function(e,n,l){"use strict";l.d(n,{e:function(){return s}});var a=l(9268);let s=()=>(0,a.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M16 22C19.3137 22 22 19.3137 22 16C22 12.6863 19.3137 10 16 10C12.6863 10 10 12.6863 10 16C10 19.3137 12.6863 22 16 22Z",stroke:"#101828",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M24.675 10.0875C24.9759 10.5184 25.2394 10.9742 25.4625 11.45L28.7 13.25C29.1042 15.0606 29.1085 16.9376 28.7125 18.75L25.4625 20.55C25.2394 21.0259 24.9759 21.4817 24.675 21.9125L24.7375 25.625C23.3654 26.8753 21.7415 27.8173 19.975 28.3876L16.7875 26.475C16.2631 26.5126 15.7368 26.5126 15.2125 26.475L12.0375 28.375C10.2654 27.8152 8.63609 26.8769 7.26248 25.625L7.32498 21.925C7.02656 21.4882 6.76324 21.0285 6.53748 20.55L3.29998 18.75C2.89572 16.9395 2.89146 15.0625 3.28748 13.25L6.53748 11.45C6.76058 10.9742 7.02404 10.5184 7.32498 10.0875L7.26248 6.37505C8.63454 5.12476 10.2585 4.1828 12.025 3.61255L15.2125 5.52505C15.7368 5.48754 16.2631 5.48754 16.7875 5.52505L19.9625 3.62505C21.7346 4.18492 23.3639 5.12324 24.7375 6.37505L24.675 10.0875Z",stroke:"#101828",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},5101:function(e,n,l){"use strict";l.d(n,{A:function(){return r},p:function(){return d}});var a=l(9268),s=l(423),i=l(6006),t=l(1229),o=l(5596);let r=()=>{let[e,n]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d,{label:"Status",icon:(0,a.jsx)(s.e,{}),onCLick:()=>n(!0)}),e&&(0,a.jsx)("div",{className:"absolute top-0 left-0",children:(0,a.jsx)(t.j,{label:"User account",onClose:()=>n(!1),onChange:e=>console.log(e),options:o.ig,multiple:!0,styles:{width:"240px"}})})]})},d=e=>{let{label:n,icon:l,onCLick:s}=e;return(0,a.jsxs)("div",{onClick:s,className:"w-60 h-10 bg-white flex justify-between items-center cursor-pointer px-4 rounded-lg font-medium",children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("button",{onClick:s,children:l})]})}},4697:function(e,n,l){"use strict";l.d(n,{$:function(){return u},l:function(){return m}});var a=l(2805),s=l(9268),i=l(5610),t=l(5101);l(2850);var o=l(7056),r=l(1051),d=l(6008);function c(){let e=(0,a._)(["\nquery getCompany ($id: ID!) {\n    getCompanyById (id: $id) {\n        id\n        name\n        address \n        hrManager\n        email\n        phoneNumber\n        website\n        foundedAt\n        registrationNumber\n        favoriteApplicants {\n            firstName\n            lastName\n        }\n        requiredSkills {\n            skillName,\n            skillType\n        }\n        preferredVisas,\n        logo {\n            id\n            type\n            path\n        }\n        banner {\n            id\n            type\n            path\n        }\n    }\n}\n"]);return c=function(){return e},e}let u=(0,o.Ps)(c()),m=e=>{var n,l,a,o,c,m;let{id:p}=e,{data:h,loading:v}=(0,r.a)(u,{variables:{id:p},fetchPolicy:"no-cache"}),x=(0,d.usePathname)(),j=(0,d.useRouter)();return(0,s.jsxs)("div",{className:"flex flex-col gap-6 applicant-details",children:[(0,s.jsxs)("div",{className:"flex",children:[(null==h?void 0:h.getCompanyById.logo)?(0,s.jsx)("img",{src:null===(n=null==h?void 0:h.getCompanyById.logo)||void 0===n?void 0:n.path,width:205,style:{height:"205px"},className:"rounded",alt:"person"}):(0,s.jsx)("div",{className:"flex items-center justify-center company-logo",children:"logo"}),(0,s.jsx)("div",{className:"right-actions flex flex-col flex-grow items-end justify-center gap-2 pr-6",style:{backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(null===(l=null==h?void 0:h.getCompanyById.banner)||void 0===l?void 0:l.path,")")},children:(0,s.jsx)(t.p,{onCLick:()=>j.push("".concat(x,"/").concat(p)),label:"Edit company",icon:(0,s.jsx)(i.o,{})})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"w-2/3",children:(0,s.jsxs)("div",{className:"mb-14",children:[(0,s.jsx)("div",{className:"applicant-name",children:null==h?void 0:h.getCompanyById.name}),(0,s.jsx)("div",{children:"Registration number"})]})}),(0,s.jsxs)("div",{className:"w-1/3",children:[(0,s.jsx)("div",{className:"sub-title",children:"Skills:"}),null===(a=null==h?void 0:h.getCompanyById.requiredSkills)||void 0===a?void 0:a.map((e,n)=>(0,s.jsxs)("div",{children:[" ",e.skillName," , "]},n)),(0,s.jsx)("div",{className:"mb-6"}),(0,s.jsx)("div",{className:"sub-title",children:"Email:"}),(0,s.jsx)("div",{className:"mb-6",children:null==h?void 0:null===(o=h.getCompanyById)||void 0===o?void 0:o.email}),(0,s.jsx)("div",{className:"sub-title",children:"Contact number:"}),(0,s.jsx)("div",{className:"mb-6",children:null==h?void 0:null===(c=h.getCompanyById)||void 0===c?void 0:c.phoneNumber}),(0,s.jsx)("div",{className:"sub-title",children:"Favorite user:"}),null===(m=null==h?void 0:h.getCompanyById.favoriteApplicants)||void 0===m?void 0:m.map((e,n)=>(0,s.jsxs)("div",{children:[n+1,") ",e.firstName," ",e.lastName," "]},n))]})]})]})}},1229:function(e,n,l){"use strict";l.d(n,{j:function(){return t}});var a=l(9268),s=l(6006),i=l(5942);l(606);let t=e=>{let{onChange:n,options:l,styles:t,onClose:o,label:r}=e,[d,c]=(0,s.useState)([]),u=()=>{};return(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault},className:"dropdown text-gray",style:t,children:(0,a.jsxs)("div",{className:"dropdown__content",children:[(0,a.jsx)("div",{className:"filter-header",children:r}),(0,a.jsx)("ul",{className:"dropdown__items",children:l.map((e,n)=>{var l,s,t;return(0,a.jsxs)("li",{className:(null===(l=e.children)||void 0===l?void 0:l.length)?"item-border-bottom":"",children:[e.label&&(0,a.jsx)("div",{className:"filter-header",children:e.label}),(null===(s=e.children)||void 0===s?void 0:s.length)?(0,a.jsx)("div",{children:null===(t=e.children)||void 0===t?void 0:t.map((e,n)=>(0,a.jsx)("div",{className:"h-8 px-3",children:(0,a.jsx)(i.X,{label:e.label,onChange:e=>console.log(e)})},n))}):null]},n)})}),(0,a.jsxs)("div",{className:"actions flex w-full justify-end p-2 gap-2",children:[(0,a.jsx)("button",{className:"px-4 py-2 text-gray cancel-btn rounded",onClick:o,children:"Cancel"}),(0,a.jsx)("button",{className:"px-4 py-2 text-white apply-btn rounded",onClick:u,children:"Apply"})]})]})})}},7228:function(){},6062:function(){},2850:function(){},606:function(){}}]);